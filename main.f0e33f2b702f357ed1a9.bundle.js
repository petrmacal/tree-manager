webpackJsonp([1],{0:function(n,l,t){n.exports=t("cDNt")},cDNt:function(n,l,t){"use strict";function e(n){return k._34(0,[(n()(),k._17(0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),k._33(null,["Rendered tree"]))],null,null)}function u(n){return k._34(0,[(n()(),k._17(0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),k._17(0,null,null,3,"th",[],[[1,"colspan",0]],null,null,null,null)),(n()(),k._33(null,["#"," "])),(n()(),k._17(0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),k._33(null,["",""]))],null,function(n,l){var t=l.component;n(l,1,0,t.nodes.length),n(l,2,0,t.root.id),n(l,4,0,t.root.data)})}function o(n){return k._34(0,[(n()(),k._17(0,null,null,1,"tree",[],null,null,null,i,x)),k._15(49152,null,0,C,[],{nodes:[0,"nodes"],depth:[1,"depth"],root:[2,"root"]},null)],function(n,l){var t=l.component;n(l,1,0,l.parent.context.$implicit.children,t.depth+1,l.parent.context.$implicit)},null)}function r(n){return k._34(0,[(n()(),k._17(0,null,null,7,"td",[],null,null,null,null,null)),(n()(),k._33(null,["\n  \t\t\t\t#"," "])),(n()(),k._17(0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),k._33(null,["",""])),(n()(),k._33(null,["\n  \t\t\t\t"])),(n()(),k._11(16777216,null,null,1,null,o)),k._15(16384,null,0,P.i,[k.Z,k.W],{ngIf:[0,"ngIf"]},null),(n()(),k._33(null,["\n  \t\t\t"]))],function(n,l){n(l,6,0,l.context.$implicit.children.length)},function(n,l){n(l,1,0,l.context.$implicit.id),n(l,3,0,l.context.$implicit.data)})}function i(n){return k._34(0,[(n()(),k._33(null,["\n\n  \t"])),(n()(),k._11(16777216,null,null,1,null,e)),k._15(16384,null,0,P.i,[k.Z,k.W],{ngIf:[0,"ngIf"]},null),(n()(),k._33(null,["\n  \t"])),(n()(),k._17(0,null,null,11,"table",[["class","tree"],["width","100%"]],null,null,null,null,null)),(n()(),k._33(null,["\n  \t\t"])),(n()(),k._17(0,null,null,9,"tbody",[],null,null,null,null,null)),(n()(),k._11(16777216,null,null,1,null,u)),k._15(16384,null,0,P.i,[k.Z,k.W],{ngIf:[0,"ngIf"]},null),(n()(),k._33(null,["\n  \t\t"])),(n()(),k._17(0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),k._33(null,["\n  \t\t\t"])),(n()(),k._11(16777216,null,null,1,null,r)),k._15(802816,null,0,P.h,[k.Z,k.W,k.y],{ngForOf:[0,"ngForOf"]},null),(n()(),k._33(null,["\n  \t\t"])),(n()(),k._33(null,["\n  \t"])),(n()(),k._33(null,["\n\n  "]))],function(n,l){var t=l.component;n(l,2,0,0==t.depth),n(l,8,0,0==t.depth),n(l,13,0,t.nodes)},null)}function c(n){return k._34(0,[(n()(),k._17(0,null,null,1,"tree",[],null,null,null,i,x)),k._15(49152,null,0,C,[],null,null)],null,null)}function d(n){return $._34(0,[(n()(),$._17(0,null,null,22,"div",[],null,null,null,null,null)),(n()(),$._33(null,["\n\t\t"])),(n()(),$._17(0,null,null,4,"h4",[],null,null,null,null,null)),(n()(),$._33(null,["Selected node with "])),(n()(),$._17(0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),$._33(null,["id ",""])),(n()(),$._33(null,[" details:"])),(n()(),$._33(null,["\n\t\t"])),(n()(),$._17(0,null,null,0,"span",[],null,null,null,null,null)),(n()(),$._33(null,["\n\t\t"])),(n()(),$._17(0,null,null,5,"input",[["placeholder","Enter data"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0,u=n.component;if("input"===l){e=!1!==$._30(n,11)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==$._30(n,11).onTouched()&&e}if("compositionstart"===l){e=!1!==$._30(n,11)._compositionStart()&&e}if("compositionend"===l){e=!1!==$._30(n,11)._compositionEnd(t.target.value)&&e}if("ngModelChange"===l){e=!1!==(u.node.data=t)&&e}return e},null,null)),$._15(16384,null,0,F.c,[$.N,$.n,[2,F.a]],null,null),$._31(1024,null,F.e,function(n){return[n]},[F.c]),$._15(671744,null,0,F.j,[[8,null],[8,null],[8,null],[2,F.e]],{model:[0,"model"]},{update:"ngModelChange"}),$._31(2048,null,F.f,null,[F.j]),$._15(16384,null,0,F.g,[F.f],null,null),(n()(),$._33(null,["\n\t\t"])),(n()(),$._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.save()&&e}return e},null,null)),(n()(),$._33(null,["Save"])),(n()(),$._33(null,["\n\t\t"])),(n()(),$._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.delete()&&e}return e},null,null)),(n()(),$._33(null,["Delete node"])),(n()(),$._33(null,["\n  \t"]))],function(n,l){n(l,13,0,l.component.node.data)},function(n,l){n(l,5,0,l.component.node.id),n(l,10,0,$._30(l,15).ngClassUntouched,$._30(l,15).ngClassTouched,$._30(l,15).ngClassPristine,$._30(l,15).ngClassDirty,$._30(l,15).ngClassValid,$._30(l,15).ngClassInvalid,$._30(l,15).ngClassPending)})}function _(n){return $._34(0,[(n()(),$._33(null,["\n\t"])),(n()(),$._11(16777216,null,null,1,null,d)),$._15(16384,null,0,U.i,[$.Z,$.W],{ngIf:[0,"ngIf"]},null),(n()(),$._33(null,["\n\t"]))],function(n,l){n(l,2,0,l.component.node)},null)}function s(n){return $._34(0,[(n()(),$._17(0,null,null,1,"node-detail",[],null,null,null,_,W)),$._15(49152,null,0,D,[w],null,null)],null,null)}function a(n){return L._34(0,[(n()(),L._17(0,null,null,7,"li",[],[[2,"selected",null]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.onSelect(n.context.$implicit)&&e}return e},null,null)),(n()(),L._33(null,["\n      "])),(n()(),L._17(0,null,null,1,"span",[["class","id"]],null,null,null,null,null)),(n()(),L._33(null,["ID#",", PID#",""])),(n()(),L._33(null,["\n      "])),(n()(),L._17(0,null,null,1,"span",[["class","data"]],null,null,null,null,null)),(n()(),L._33(null,["",""])),(n()(),L._33(null,["\n    "]))],null,function(n,l){var t=l.component;n(l,0,0,l.context.$implicit===t.selectedNode),n(l,3,0,l.context.$implicit.id,l.context.$implicit.parent),n(l,6,0,l.context.$implicit.data)})}function p(n){return L._34(0,[(n()(),L._17(0,null,null,1,"tree",[],null,null,null,i,x)),L._15(49152,null,0,C,[],{nodes:[0,"nodes"],depth:[1,"depth"],root:[2,"root"]},null)],function(n,l){var t=l.component;n(l,1,0,t.selectedNode.children,0,t.selectedNode)},null)}function f(n){return L._34(0,[(n()(),L._17(0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0;if("submit"===l){e=!1!==L._30(n,2).onSubmit(t)&&e}if("reset"===l){e=!1!==L._30(n,2).onReset()&&e}return e},null,null)),L._15(16384,null,0,Z.l,[],null,null),L._15(16384,null,0,Z.i,[[8,null],[8,null]],null,null),L._31(2048,null,Z.b,null,[Z.i]),L._15(16384,null,0,Z.h,[Z.b],null,null),(n()(),L._33(null,["\n\t"])),(n()(),L._17(0,[["pid",1]],null,0,"input",[["placeholder","Enter parent ID"],["type","number"]],[[8,"value",0]],null,null,null,null)),(n()(),L._33(null,["\n\t"])),(n()(),L._17(0,[["data",1]],null,0,"input",[["placeholder","Enter some data"],["type","text"]],null,null,null,null,null)),(n()(),L._33(null,["\n\t"])),(n()(),L._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.add(L._30(n,6).value,L._30(n,8).value)&&e}return e},null,null)),(n()(),L._33(null,["Add node"])),(n()(),L._33(null,["\n"])),(n()(),L._33(null,["\n\n"])),(n()(),L._17(0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),L._33(null,["Select tree/subtree"])),(n()(),L._33(null,["\n"])),(n()(),L._17(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),L._33(null,["Clicking on any node from the list below renders its tree immediatelly. You will also be able to modify/delete this node."])),(n()(),L._33(null,["\n"])),(n()(),L._17(0,null,null,4,"ul",[["class","tree"]],null,null,null,null,null)),(n()(),L._33(null,["\n    "])),(n()(),L._11(16777216,null,null,1,null,a)),L._15(802816,null,0,q.h,[L.Z,L.W,L.y],{ngForOf:[0,"ngForOf"]},null),(n()(),L._33(null,["\n"])),(n()(),L._33(null,["\n\n "])),(n()(),L._17(0,null,null,1,"node-detail",[],null,[[null,"deleteNode"],[null,"saveNode"]],function(n,l,t){var e=!0,u=n.component;if("deleteNode"===l){e=!1!==u.deleteNode(t)&&e}if("saveNode"===l){e=!1!==u.saveNode(t)&&e}return e},_,W)),L._15(49152,null,0,D,[w],{node:[0,"node"]},{deleteNode:"deleteNode",saveNode:"saveNode"}),(n()(),L._33(null,["\n\n "])),(n()(),L._11(16777216,null,null,1,null,p)),L._15(16384,null,0,q.i,[L.Z,L.W],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,23,0,t.nodes),n(l,27,0,t.selectedNode),n(l,30,0,t.selectedNode)},function(n,l){var t=l.component;n(l,0,0,L._30(l,4).ngClassUntouched,L._30(l,4).ngClassTouched,L._30(l,4).ngClassPristine,L._30(l,4).ngClassDirty,L._30(l,4).ngClassValid,L._30(l,4).ngClassInvalid,L._30(l,4).ngClassPending),n(l,6,0,L._20(1,"",t.selectedNode?t.selectedNode.id:0,""))})}function h(n){return L._34(0,[(n()(),L._17(0,null,null,1,"tree-container",[],null,null,null,f,R)),L._15(114688,null,0,S,[w,T.k],null,null)],function(n,l){n(l,1,0)},null)}function g(n){return G._34(0,[(n()(),G._17(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),G._33(null,["Welcome to ","!"])),(n()(),G._33(null,["\n\n"])),(n()(),G._17(0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),G._33(null,["\n  "])),(n()(),G._17(0,null,null,1,"tree-container",[],null,null,null,f,R)),G._15(114688,null,0,S,[w,J.k],null,null),(n()(),G._33(null,["\n"])),(n()(),G._33(null,["\n\n\n"]))],function(n,l){n(l,6,0)},function(n,l){n(l,1,0,l.component.title)})}function m(n){return G._34(0,[(n()(),G._17(0,null,null,1,"app-root",[],null,null,null,g,X)),G._15(49152,null,0,N,[],null,null)],null,null)}Object.defineProperty(l,"__esModule",{value:!0});var v={production:!0},y=function(){function n(){}return n}(),N=function(){function n(){this.title="Tree Manager - @Bata"}return n}(),b=[".tree[_ngcontent-%COMP%]{margin:0;padding:0;list-style-type:none}.tree[_ngcontent-%COMP%], .tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.tree[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#eee}.tree[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-size:.8rem;color:grey;padding-right:1rem;margin-right:1rem;border-right:1px solid #ddd}"],C=function(){function n(){}return n}(),k=t("/oeL"),P=t("qbdv"),O=[".tree[_ngcontent-%COMP%] {\n  \t\tborder: 1px solid #000;\n  \t\tfont-size: 0.9rem;\n  \t}\n\n  \t.tree[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  \t\tpadding: 5px;\n  \t\tborder: 1px solid #000;\n  \t}"],x=k._14({encapsulation:0,styles:O,data:{}}),I=(k._12("tree",C,c,{nodes:"nodes",depth:"depth",root:"root"},{},[]),t("CPp0")),j=t("82j9"),w=(t.n(j),function(){function n(n){this.http=n,this.apiUrl="api/nodes",this.headers=new I.d({"Content-Type":"application/json"})}return n.prototype.update=function(n){return this.http.put(this.apiUrl+"/"+n.id,JSON.stringify(n),{headers:this.headers}).toPromise().then(function(){return n}).catch(this.handleError)},n.prototype.create=function(n,l){return this.http.post(this.apiUrl,JSON.stringify({parent:n,data:l,children:[]}),{headers:this.headers}).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.delete=function(n){return this.http.delete(this.apiUrl+"/"+n.id,{headers:this.headers}).toPromise().then(function(){return null}).catch(this.handleError)},n.prototype.getNodes=function(){return this.http.get(this.apiUrl).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.getNode=function(n){return this.http.get(this.apiUrl+"/"+n).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.handleError=function(n){return Promise.reject(n.message||n)},n.ctorParameters=function(){return[{type:I.e}]},n}()),M=t("BkNc"),S=function(){function n(n,l){this.treeService=n,this.router=l}return n.prototype.traverseNodes=function(n){var l=this.nodes;!n||Array.prototype.map.call(l,n);for(var t=l.length-1;t>=0;t--)if(!l[t].traversed){var e=null;if(null!==l[t].parent&&(e=l[t].parent),null!==e){var u=l[this.getIndex(e,l)].children;n?u.unshift(l[t]):u.push(l[t])}l[t].traversed=!0}console.log(l)},n.prototype.add=function(n,l){var t=this;if(0!==this.nodes.length&&!this.contains(n))return void alert("This ID does not exists");null==n&&(n=null),this.treeService.create(n,l).then(function(n){t.nodes.push(n),t.traverseNodes()})},n.prototype.contains=function(n){for(var l=0,t=this.nodes;l<t.length;l++){if(n==t[l].id)return!0}return!1},n.prototype.deleteNode=function(n){var l=this;this.treeService.delete(n).then(function(){n.children.forEach(function(n){n.parent=l.selectedNode.parent},l),l.nodes=l.nodes.filter(function(l){return l!==n}),l.selectedNode===n&&(l.selectedNode=null),l.traverseNodes(function(n){n.children=[],n.traversed=!1})})},n.prototype.saveNode=function(n){!0===n&&(this.selectedNode=null)},n.prototype.onSelect=function(n){this.selectedNode=n},n.prototype.getNodes=function(){var n=this;this.treeService.getNodes().then(function(l){return n.nodes=l})},n.prototype.ngOnInit=function(){this.tree={root:null,nodes:[]},this.getNodes(),console.log(this.tree)},n.prototype.getIndex=function(n,l){for(var t=0;t<l.length;t++)if(l[t].id==n)return t},n.ctorParameters=function(){return[{type:w},{type:M.k}]},n}(),E=t("/oeL"),D=function(){function n(n){this.treeService=n,this.deleteNode=new E.p,this.saveNode=new E.p}return n.prototype.delete=function(n){this.deleteNode.emit(this.node)},n.prototype.save=function(){this.treeService.update(this.node),this.saveNode.emit(!0)},n.ctorParameters=function(){return[{type:w}]},n}(),$=t("/oeL"),F=t("bm2B"),U=t("qbdv"),B=[],W=$._14({encapsulation:2,styles:B,data:{}}),L=($._12("node-detail",D,s,{node:"node"},{deleteNode:"deleteNode",saveNode:"saveNode"},[]),t("/oeL")),Z=t("bm2B"),q=t("qbdv"),T=t("BkNc"),A=[b],R=L._14({encapsulation:0,styles:A,data:{}}),z=L._12("tree-container",S,h,{},{},[]),G=t("/oeL"),J=t("BkNc"),V=[],X=G._14({encapsulation:2,styles:V,data:{}}),Y=G._12("app-root",N,m,{},{},[]),Q=function(){function n(){}return n.prototype.createDb=function(){return{nodes:[{id:0,parent:null,data:"Root",children:[]}]}},n}(),H=t("/oeL"),K=t("qbdv"),nn=t("fc+i"),ln=t("bm2B"),tn=t("R6nX"),en=t("CPp0"),un=t("jN6E"),on=t("BkNc"),rn=H._13(y,[N],function(n){return H._28([H._29(512,H.k,H._9,[[8,[z,Y]],[3,H.k],H.E]),H._29(5120,H.A,H._27,[[3,H.A]]),H._29(4608,K.k,K.j,[H.A]),H._29(5120,H.c,H._18,[]),H._29(5120,H.y,H._24,[]),H._29(5120,H.z,H._25,[]),H._29(4608,nn.b,nn.s,[K.c]),H._29(6144,H.Q,null,[nn.b]),H._29(4608,nn.e,nn.f,[]),H._29(5120,nn.c,function(n,l,t,e){return[new nn.k(n),new nn.o(l),new nn.n(t,e)]},[K.c,K.c,K.c,nn.e]),H._29(4608,nn.d,nn.d,[nn.c,H.G]),H._29(135680,nn.m,nn.m,[K.c]),H._29(4608,nn.l,nn.l,[nn.d,nn.m]),H._29(6144,H.O,null,[nn.l]),H._29(6144,nn.p,null,[nn.m]),H._29(4608,H.X,H.X,[H.G]),H._29(4608,nn.g,nn.g,[K.c]),H._29(4608,nn.i,nn.i,[K.c]),H._29(4608,ln.m,ln.m,[]),H._29(4608,tn.c,Q,[]),H._29(5120,en.m,un.b,[H.w,tn.c,tn.a]),H._29(4608,en.i,en.a,[]),H._29(5120,en.e,en.p,[en.m,en.i]),H._29(4608,en.c,en.c,[]),H._29(4608,en.k,en.b,[]),H._29(5120,en.n,en.o,[]),H._29(5120,on.a,on.u,[on.k]),H._29(4608,on.d,on.d,[]),H._29(6144,on.f,null,[on.d]),H._29(135680,on.m,on.m,[on.k,H.D,H.j,H.w,on.f]),H._29(4608,on.e,on.e,[]),H._29(5120,on.h,on.x,[on.v]),H._29(5120,H.b,function(n){return[n]},[on.h]),H._29(4608,w,w,[en.e]),H._29(512,K.b,K.b,[]),H._29(1024,H.o,nn.q,[]),H._29(1024,H.F,function(){return[on.q()]},[]),H._29(512,on.v,on.v,[H.w]),H._29(1024,H.d,function(n,l,t){return[nn.r(n,l),on.w(t)]},[[2,nn.h],[2,H.F],on.v]),H._29(512,H.e,H.e,[[2,H.d]]),H._29(131584,H._16,H._16,[H.G,H._10,H.w,H.o,H.k,H.e]),H._29(2048,H.g,null,[H._16]),H._29(512,H.f,H.f,[H.g]),H._29(512,nn.a,nn.a,[[3,nn.a]]),H._29(512,ln.k,ln.k,[]),H._29(512,ln.d,ln.d,[]),H._29(512,en.f,en.f,[]),H._29(1024,on.p,on.s,[[3,on.k]]),H._29(512,on.o,on.c,[]),H._29(512,on.b,on.b,[]),H._29(256,on.g,{},[]),H._29(1024,K.g,on.r,[K.m,[2,K.a],on.g]),H._29(512,K.f,K.f,[K.g]),H._29(512,H.j,H.j,[]),H._29(512,H.D,H.U,[H.j,[2,H.V]]),H._29(1024,on.i,function(){return[[{path:"tree",component:S}]]},[]),H._29(1024,on.k,on.t,[H.g,on.o,on.b,K.f,H.w,H.D,H.j,on.i,on.g,[2,on.n],[2,on.j]]),H._29(512,on.l,on.l,[[2,on.p],[2,on.k]]),H._29(512,un.a,un.a,[]),H._29(512,y,y,[]),H._29(256,tn.a,void 0,[])])}),cn=t("/oeL"),dn=t("fc+i");v.production&&Object(cn._3)(),Object(dn.j)().bootstrapModuleFactory(rn)},gFIY:function(n,l){function t(n){return new Promise(function(l,t){t(new Error("Cannot find module '"+n+"'."))})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="gFIY"}},[0]);