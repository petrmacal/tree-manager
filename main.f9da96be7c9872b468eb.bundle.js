webpackJsonp([1],{0:function(n,l,t){n.exports=t("cDNt")},cDNt:function(n,l,t){"use strict";function e(n){return b._33(0,[(n()(),b._17(0,null,null,7,"td",[],null,null,null,null,null)),(n()(),b._32(null,["\n  \t\t\t\t#"," "])),(n()(),b._17(0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),b._32(null,["",""])),(n()(),b._32(null,["\n  \t\t\t\t"])),(n()(),b._17(0,null,null,1,"tree",[],null,null,null,o,P)),b._15(49152,null,0,y,[],{nodes:[0,"nodes"]},null),(n()(),b._32(null,["\n  \t\t\t"]))],function(n,l){n(l,6,0,l.context.$implicit.children)},function(n,l){n(l,1,0,l.context.$implicit.id),n(l,3,0,l.context.$implicit.data)})}function u(n){return b._33(0,[(n()(),b._17(0,null,null,8,"table",[["class","tree"],["width","100%"]],null,null,null,null,null)),(n()(),b._32(null,["\n  \t\t"])),(n()(),b._17(0,null,null,6,"tbody",[],null,null,null,null,null)),(n()(),b._17(0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),b._32(null,["\n  \t\t\t"])),(n()(),b._11(16777216,null,null,1,null,e)),b._15(802816,null,0,C.h,[b.Z,b.W,b.y],{ngForOf:[0,"ngForOf"]},null),(n()(),b._32(null,["\n  \t\t"])),(n()(),b._32(null,["\n  \t"]))],function(n,l){n(l,6,0,l.component.nodes)},null)}function o(n){return b._33(0,[(n()(),b._32(null,["\n\n  \t"])),(n()(),b._11(16777216,null,null,1,null,u)),b._15(16384,null,0,C.i,[b.Z,b.W],{ngIf:[0,"ngIf"]},null),(n()(),b._32(null,["\n  "]))],function(n,l){n(l,2,0,l.component.nodes.length>0)},null)}function r(n){return b._33(0,[(n()(),b._17(0,null,null,1,"tree",[],null,null,null,o,P)),b._15(49152,null,0,y,[],null,null)],null,null)}function i(n){return E._33(0,[(n()(),E._17(0,null,null,22,"div",[],null,null,null,null,null)),(n()(),E._32(null,["\n\t\t"])),(n()(),E._17(0,null,null,4,"h2",[],null,null,null,null,null)),(n()(),E._32(null,["Selected node with "])),(n()(),E._17(0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),E._32(null,["id ",""])),(n()(),E._32(null,[" details:"])),(n()(),E._32(null,["\n\t\t"])),(n()(),E._17(0,null,null,0,"span",[],null,null,null,null,null)),(n()(),E._32(null,["\n\t\t"])),(n()(),E._17(0,null,null,5,"input",[["placeholder","Enter data"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0,u=n.component;if("input"===l){e=!1!==E._29(n,11)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==E._29(n,11).onTouched()&&e}if("compositionstart"===l){e=!1!==E._29(n,11)._compositionStart()&&e}if("compositionend"===l){e=!1!==E._29(n,11)._compositionEnd(t.target.value)&&e}if("ngModelChange"===l){e=!1!==(u.node.data=t)&&e}return e},null,null)),E._15(16384,null,0,D.c,[E.N,E.n,[2,D.a]],null,null),E._30(1024,null,D.e,function(n){return[n]},[D.c]),E._15(671744,null,0,D.j,[[8,null],[8,null],[8,null],[2,D.e]],{model:[0,"model"]},{update:"ngModelChange"}),E._30(2048,null,D.f,null,[D.j]),E._15(16384,null,0,D.g,[D.f],null,null),(n()(),E._32(null,["\n\t\t"])),(n()(),E._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.save()&&e}return e},null,null)),(n()(),E._32(null,["Save"])),(n()(),E._32(null,["\n\t\t"])),(n()(),E._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.delete()&&e}return e},null,null)),(n()(),E._32(null,["Delete node"])),(n()(),E._32(null,["\n  \t"]))],function(n,l){n(l,13,0,l.component.node.data)},function(n,l){n(l,5,0,l.component.node.id),n(l,10,0,E._29(l,15).ngClassUntouched,E._29(l,15).ngClassTouched,E._29(l,15).ngClassPristine,E._29(l,15).ngClassDirty,E._29(l,15).ngClassValid,E._29(l,15).ngClassInvalid,E._29(l,15).ngClassPending)})}function c(n){return E._33(0,[(n()(),E._32(null,["\n\t"])),(n()(),E._11(16777216,null,null,1,null,i)),E._15(16384,null,0,F.i,[E.Z,E.W],{ngIf:[0,"ngIf"]},null),(n()(),E._32(null,["\n\t"]))],function(n,l){n(l,2,0,l.component.node)},null)}function d(n){return E._33(0,[(n()(),E._17(0,null,null,1,"node-detail",[],null,null,null,c,B)),E._15(49152,null,0,S,[j],null,null)],null,null)}function _(n){return $._33(0,[(n()(),$._17(0,null,null,7,"li",[],[[2,"selected",null]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.onSelect(n.context.$implicit)&&e}return e},null,null)),(n()(),$._32(null,["\n      "])),(n()(),$._17(0,null,null,1,"span",[["class","id"]],null,null,null,null,null)),(n()(),$._32(null,["ID#",", PID#",""])),(n()(),$._32(null,["\n      "])),(n()(),$._17(0,null,null,1,"span",[["class","data"]],null,null,null,null,null)),(n()(),$._32(null,["",""])),(n()(),$._32(null,["\n    "]))],null,function(n,l){var t=l.component;n(l,0,0,l.context.$implicit===t.selectedNode),n(l,3,0,l.context.$implicit.id,l.context.$implicit.parent),n(l,6,0,l.context.$implicit.data)})}function s(n){return $._33(0,[(n()(),$._17(0,null,null,1,"tree",[],null,null,null,o,P)),$._15(49152,null,0,y,[],{nodes:[0,"nodes"]},null)],function(n,l){n(l,1,0,l.component.selectedNode.children)},null)}function a(n){return $._33(0,[(n()(),$._17(0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0;if("submit"===l){e=!1!==$._29(n,2).onSubmit(t)&&e}if("reset"===l){e=!1!==$._29(n,2).onReset()&&e}return e},null,null)),$._15(16384,null,0,L.l,[],null,null),$._15(16384,null,0,L.i,[[8,null],[8,null]],null,null),$._30(2048,null,L.b,null,[L.i]),$._15(16384,null,0,L.h,[L.b],null,null),(n()(),$._32(null,["\n\t"])),(n()(),$._17(0,[["pid",1]],null,0,"input",[["placeholder","Enter parent ID"],["type","number"]],null,null,null,null,null)),(n()(),$._32(null,["\n\t"])),(n()(),$._17(0,[["data",1]],null,0,"input",[["placeholder","Enter some data"],["type","text"]],null,null,null,null,null)),(n()(),$._32(null,["\n\t"])),(n()(),$._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.add($._29(n,6).value,$._29(n,8).value)&&e}return e},null,null)),(n()(),$._32(null,["Add node"])),(n()(),$._32(null,["\n"])),(n()(),$._32(null,["\n\n"])),(n()(),$._17(0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),$._32(null,["Select tree"])),(n()(),$._32(null,["\n"])),(n()(),$._17(0,null,null,4,"ul",[["class","tree"]],null,null,null,null,null)),(n()(),$._32(null,["\n    "])),(n()(),$._11(16777216,null,null,1,null,_)),$._15(802816,null,0,q.h,[$.Z,$.W,$.y],{ngForOf:[0,"ngForOf"]},null),(n()(),$._32(null,["\n"])),(n()(),$._32(null,["\n\n "])),(n()(),$._17(0,null,null,1,"node-detail",[],null,[[null,"deleteNode"],[null,"saveNode"]],function(n,l,t){var e=!0,u=n.component;if("deleteNode"===l){e=!1!==u.deleteNode(t)&&e}if("saveNode"===l){e=!1!==u.saveNode(t)&&e}return e},c,B)),$._15(49152,null,0,S,[j],{node:[0,"node"]},{deleteNode:"deleteNode",saveNode:"saveNode"}),(n()(),$._32(null,["\n\n "])),(n()(),$._11(16777216,null,null,1,null,s)),$._15(16384,null,0,q.i,[$.Z,$.W],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,20,0,t.nodes),n(l,24,0,t.selectedNode),n(l,27,0,t.selectedNode)},function(n,l){n(l,0,0,$._29(l,4).ngClassUntouched,$._29(l,4).ngClassTouched,$._29(l,4).ngClassPristine,$._29(l,4).ngClassDirty,$._29(l,4).ngClassValid,$._29(l,4).ngClassInvalid,$._29(l,4).ngClassPending)})}function p(n){return $._33(0,[(n()(),$._17(0,null,null,1,"tree-container",[],null,null,null,a,Z)),$._15(114688,null,0,M,[j,T.k],null,null)],function(n,l){n(l,1,0)},null)}function f(n){return z._33(0,[(n()(),z._17(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),z._32(null,["Welcome to ","!"])),(n()(),z._32(null,["\n\n"])),(n()(),z._17(0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),z._32(null,["\n  "])),(n()(),z._17(0,null,null,1,"tree-container",[],null,null,null,a,Z)),z._15(114688,null,0,M,[j,G.k],null,null),(n()(),z._32(null,["\n"])),(n()(),z._32(null,["\n\n\n"]))],function(n,l){n(l,6,0)},function(n,l){n(l,1,0,l.component.title)})}function h(n){return z._33(0,[(n()(),z._17(0,null,null,1,"app-root",[],null,null,null,f,R)),z._15(49152,null,0,v,[],null,null)],null,null)}Object.defineProperty(l,"__esModule",{value:!0});var g={production:!0},m=function(){function n(){}return n}(),v=function(){function n(){this.title="Tree Manager - @Bata"}return n}(),N=[".tree[_ngcontent-%COMP%]{margin:0;padding:0;list-style-type:none}.tree[_ngcontent-%COMP%], .tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.tree[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#eee}.tree[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-size:.8rem;color:grey;padding-right:1rem;margin-right:1rem;border-right:1px solid #ddd}"],y=function(){function n(){}return n}(),b=t("/oeL"),C=t("qbdv"),k=[".tree[_ngcontent-%COMP%] {\n  \t\tborder: 1px solid #000;\n  \t\tfont-size: 0.9rem;\n  \t}\n\n  \t.tree[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  \t\tpadding: 5px;\n  \t\tborder: 1px solid #000;\n  \t}"],P=b._14({encapsulation:0,styles:k,data:{}}),O=(b._12("tree",y,r,{nodes:"nodes"},{},[]),t("CPp0")),x=t("82j9"),j=(t.n(x),function(){function n(n){this.http=n,this.apiUrl="api/nodes",this.headers=new O.d({"Content-Type":"application/json"})}return n.prototype.update=function(n){return this.http.put(this.apiUrl+"/"+n.id,JSON.stringify(n),{headers:this.headers}).toPromise().then(function(){return n}).catch(this.handleError)},n.prototype.create=function(n,l){return this.http.post(this.apiUrl,JSON.stringify({parent:n,data:l,children:[]}),{headers:this.headers}).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.delete=function(n){return this.http.delete(this.apiUrl+"/"+n.id,{headers:this.headers}).toPromise().then(function(){return null}).catch(this.handleError)},n.prototype.getNodes=function(){return this.http.get(this.apiUrl).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.getNode=function(n){return this.http.get(this.apiUrl+"/"+n).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.handleError=function(n){return Promise.reject(n.message||n)},n.ctorParameters=function(){return[{type:O.e}]},n}()),I=t("BkNc"),M=function(){function n(n,l){this.treeService=n,this.router=l}return n.prototype.traverseNodes=function(){for(var n=this.nodes,l=n.length-1;l>=0;l--)if(!n[l].traversed){var t=null;null!==n[l].parent&&(t=n[l].parent),null!==t&&n[this.getIndex(t,n)].children.push(n[l]),n[l].traversed=!0}console.log(n)},n.prototype.add=function(n,l){var t=this;if(0!==this.nodes.length&&!this.contains(n))return void alert("This ID does not exists");null==n&&(n=null),this.treeService.create(n,l).then(function(n){t.nodes.push(n),t.traverseNodes()})},n.prototype.contains=function(n){for(var l=0,t=this.nodes;l<t.length;l++){if(n==t[l].id)return!0}return!1},n.prototype.deleteNode=function(n){var l=this;this.treeService.delete(n).then(function(){if(n.children.forEach(function(n){return n.parent=l.selectedNode.parent},l),l.nodes=l.nodes.filter(function(l){return l!==n}),null!==n.parent&&l.nodes[n.parent]){var t=l.getIndex(n.id,l.nodes[n.parent].children);l.nodes[n.parent].children.splice(t,1)}l.selectedNode===n&&(l.selectedNode=null),l.traverseNodes()})},n.prototype.saveNode=function(n){!0===n&&(this.selectedNode=null)},n.prototype.onSelect=function(n){this.selectedNode=n},n.prototype.getNodes=function(){var n=this;this.treeService.getNodes().then(function(l){return n.nodes=l})},n.prototype.ngOnInit=function(){this.tree={root:null,nodes:[]},this.getNodes(),console.log(this.tree)},n.prototype.getIndex=function(n,l){for(var t=0;t<l.length;t++)if(l[t].id==n)return t},n.ctorParameters=function(){return[{type:j},{type:I.k}]},n}(),w=t("/oeL"),S=function(){function n(n){this.treeService=n,this.deleteNode=new w.p,this.saveNode=new w.p}return n.prototype.delete=function(n){this.deleteNode.emit(this.node)},n.prototype.save=function(){this.treeService.update(this.node),this.saveNode.emit(!0)},n.ctorParameters=function(){return[{type:j}]},n}(),E=t("/oeL"),D=t("bm2B"),F=t("qbdv"),U=[],B=E._14({encapsulation:2,styles:U,data:{}}),$=(E._12("node-detail",S,d,{node:"node"},{deleteNode:"deleteNode",saveNode:"saveNode"},[]),t("/oeL")),L=t("bm2B"),q=t("qbdv"),T=t("BkNc"),W=[N],Z=$._14({encapsulation:0,styles:W,data:{}}),A=$._12("tree-container",M,p,{},{},[]),z=t("/oeL"),G=t("BkNc"),J=[],R=z._14({encapsulation:2,styles:J,data:{}}),V=z._12("app-root",v,h,{},{},[]),X=function(){function n(){}return n.prototype.createDb=function(){return{nodes:[{id:0,parent:null,data:"Root",children:[]}]}},n}(),Y=t("/oeL"),Q=t("qbdv"),H=t("fc+i"),K=t("bm2B"),nn=t("R6nX"),ln=t("CPp0"),tn=t("jN6E"),en=t("BkNc"),un=Y._13(m,[v],function(n){return Y._27([Y._28(512,Y.k,Y._9,[[8,[A,V]],[3,Y.k],Y.E]),Y._28(5120,Y.A,Y._26,[[3,Y.A]]),Y._28(4608,Q.k,Q.j,[Y.A]),Y._28(5120,Y.c,Y._18,[]),Y._28(5120,Y.y,Y._23,[]),Y._28(5120,Y.z,Y._24,[]),Y._28(4608,H.b,H.s,[Q.c]),Y._28(6144,Y.Q,null,[H.b]),Y._28(4608,H.e,H.f,[]),Y._28(5120,H.c,function(n,l,t,e){return[new H.k(n),new H.o(l),new H.n(t,e)]},[Q.c,Q.c,Q.c,H.e]),Y._28(4608,H.d,H.d,[H.c,Y.G]),Y._28(135680,H.m,H.m,[Q.c]),Y._28(4608,H.l,H.l,[H.d,H.m]),Y._28(6144,Y.O,null,[H.l]),Y._28(6144,H.p,null,[H.m]),Y._28(4608,Y.X,Y.X,[Y.G]),Y._28(4608,H.g,H.g,[Q.c]),Y._28(4608,H.i,H.i,[Q.c]),Y._28(4608,K.m,K.m,[]),Y._28(4608,nn.c,X,[]),Y._28(5120,ln.m,tn.b,[Y.w,nn.c,nn.a]),Y._28(4608,ln.i,ln.a,[]),Y._28(5120,ln.e,ln.p,[ln.m,ln.i]),Y._28(4608,ln.c,ln.c,[]),Y._28(4608,ln.k,ln.b,[]),Y._28(5120,ln.n,ln.o,[]),Y._28(5120,en.a,en.u,[en.k]),Y._28(4608,en.d,en.d,[]),Y._28(6144,en.f,null,[en.d]),Y._28(135680,en.m,en.m,[en.k,Y.D,Y.j,Y.w,en.f]),Y._28(4608,en.e,en.e,[]),Y._28(5120,en.h,en.x,[en.v]),Y._28(5120,Y.b,function(n){return[n]},[en.h]),Y._28(4608,j,j,[ln.e]),Y._28(512,Q.b,Q.b,[]),Y._28(1024,Y.o,H.q,[]),Y._28(1024,Y.F,function(){return[en.q()]},[]),Y._28(512,en.v,en.v,[Y.w]),Y._28(1024,Y.d,function(n,l,t){return[H.r(n,l),en.w(t)]},[[2,H.h],[2,Y.F],en.v]),Y._28(512,Y.e,Y.e,[[2,Y.d]]),Y._28(131584,Y._16,Y._16,[Y.G,Y._10,Y.w,Y.o,Y.k,Y.e]),Y._28(2048,Y.g,null,[Y._16]),Y._28(512,Y.f,Y.f,[Y.g]),Y._28(512,H.a,H.a,[[3,H.a]]),Y._28(512,K.k,K.k,[]),Y._28(512,K.d,K.d,[]),Y._28(512,ln.f,ln.f,[]),Y._28(1024,en.p,en.s,[[3,en.k]]),Y._28(512,en.o,en.c,[]),Y._28(512,en.b,en.b,[]),Y._28(256,en.g,{},[]),Y._28(1024,Q.g,en.r,[Q.m,[2,Q.a],en.g]),Y._28(512,Q.f,Q.f,[Q.g]),Y._28(512,Y.j,Y.j,[]),Y._28(512,Y.D,Y.U,[Y.j,[2,Y.V]]),Y._28(1024,en.i,function(){return[[{path:"tree",component:M}]]},[]),Y._28(1024,en.k,en.t,[Y.g,en.o,en.b,Q.f,Y.w,Y.D,Y.j,en.i,en.g,[2,en.n],[2,en.j]]),Y._28(512,en.l,en.l,[[2,en.p],[2,en.k]]),Y._28(512,tn.a,tn.a,[]),Y._28(512,m,m,[]),Y._28(256,nn.a,void 0,[])])}),on=t("/oeL"),rn=t("fc+i");g.production&&Object(on._3)(),Object(rn.j)().bootstrapModuleFactory(un)},gFIY:function(n,l){function t(n){return new Promise(function(l,t){t(new Error("Cannot find module '"+n+"'."))})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="gFIY"}},[0]);