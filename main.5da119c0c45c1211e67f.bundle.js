webpackJsonp([1],{0:function(n,l,e){n.exports=e("cDNt")},cDNt:function(n,l,e){"use strict";function t(n){return b._34(0,[(n()(),b._17(0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),b._33(null,["Rendered tree"]))],null,null)}function u(n){return b._34(0,[(n()(),b._17(0,null,null,7,"div",[["class","tree-col"]],null,null,null,null,null)),(n()(),b._33(null,["\n  \t\t\t\tID:"," [","] "])),(n()(),b._17(0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),b._33(null,["",""])),(n()(),b._33(null,[" "])),(n()(),b._17(0,null,null,1,"sup",[],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.delete(n.context.$implicit.id,n.context.$implicit.parent)&&t}return t},null,null)),(n()(),b._33(null,["[x]"])),(n()(),b._33(null,["\n  \t\t\t"]))],null,function(n,l){n(l,1,0,l.context.$implicit.id,l.context.$implicit.parent),n(l,3,0,l.context.$implicit.data)})}function r(n){return b._34(0,[(n()(),b._17(0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),b._33(null,["\n  \t\t\t"])),(n()(),b._11(16777216,null,null,1,null,u)),b._15(802816,null,0,y.h,[b.Z,b.W,b.y],{ngForOf:[0,"ngForOf"]},null),(n()(),b._33(null,["\n  \t"]))],function(n,l){n(l,3,0,l.context.$implicit)},function(n,l){var e=l.component;n(l,0,0,b._20(1,"tree depth-",e.depth,""))})}function o(n){return b._34(0,[(n()(),b._33(null,["\n\n  \t"])),(n()(),b._11(16777216,null,null,1,null,t)),b._15(16384,null,0,y.i,[b.Z,b.W],{ngIf:[0,"ngIf"]},null),(n()(),b._33(null,["\n  \t"])),(n()(),b._11(16777216,null,null,1,null,r)),b._15(802816,null,0,y.h,[b.Z,b.W,b.y],{ngForOf:[0,"ngForOf"]},null),(n()(),b._33(null,["\n\n  "]))],function(n,l){var e=l.component;n(l,2,0,0==e.depth),n(l,5,0,e.actualTraverse)},null)}function i(n){return b._34(0,[(n()(),b._17(0,null,null,1,"tree",[],null,null,null,o,k)),b._15(49152,null,0,m,[],null,null)],null,null)}function a(n){return O._34(0,[(n()(),O._17(0,null,null,1,"tree",[],null,[[null,"deleteNode"]],function(n,l,e){var t=!0,u=n.component;if("deleteNode"===l){t=!1!==u.deleteNode(e)&&t}return t},o,k)),O._15(49152,null,0,m,[],{actualTraverse:[0,"actualTraverse"],depth:[1,"depth"]},{deleteNode:"deleteNode"})],function(n,l){n(l,1,0,l.component.actualTraverse,0)},null)}function c(n){return O._34(0,[(n()(),O._17(0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0;if("submit"===l){t=!1!==O._30(n,2).onSubmit(e)&&t}if("reset"===l){t=!1!==O._30(n,2).onReset()&&t}return t},null,null)),O._15(16384,null,0,S.f,[],null,null),O._15(16384,null,0,S.d,[[8,null],[8,null]],null,null),O._31(2048,null,S.a,null,[S.d]),O._15(16384,null,0,S.c,[S.a],null,null),(n()(),O._33(null,["\n\t"])),(n()(),O._17(0,[["pid",1]],null,0,"input",[["placeholder","Enter parent ID"],["type","number"]],[[8,"value",0]],null,null,null,null)),(n()(),O._33(null,["\n\t"])),(n()(),O._17(0,[["data",1]],null,0,"input",[["placeholder","Enter some data"],["type","text"]],null,null,null,null,null)),(n()(),O._33(null,["\n\t"])),(n()(),O._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.add(O._30(n,6).value,O._30(n,8).value)&&t}return t},null,null)),(n()(),O._33(null,["Add node"])),(n()(),O._33(null,["\n"])),(n()(),O._33(null,["\n\n"])),(n()(),O._17(0,null,null,3,"h3",[],null,null,null,null,null)),(n()(),O._33(null,["Selected traversal mode: "])),(n()(),O._17(0,null,null,1,"u",[],null,null,null,null,null)),(n()(),O._33(null,["",""])),(n()(),O._33(null,["\n"])),(n()(),O._17(0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.switchTraversalMode()&&t}return t},null,null)),(n()(),O._33(null,["Switch"])),(n()(),O._33(null,["\n\n\n "])),(n()(),O._11(16777216,null,null,1,null,a)),O._15(16384,null,0,F.i,[O.Z,O.W],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,23,0,l.component.selectedNode)},function(n,l){var e=l.component;n(l,0,0,O._30(l,4).ngClassUntouched,O._30(l,4).ngClassTouched,O._30(l,4).ngClassPristine,O._30(l,4).ngClassDirty,O._30(l,4).ngClassValid,O._30(l,4).ngClassInvalid,O._30(l,4).ngClassPending),n(l,6,0,O._20(1,"",e.selectedNode?e.selectedNode.id:0,"")),n(l,17,0,e.traversalModeName)})}function s(n){return O._34(0,[(n()(),O._17(0,null,null,1,"tree-container",[],null,null,null,c,E)),O._15(114688,null,0,C,[P,j.k],null,null)],function(n,l){n(l,1,0)},null)}function d(n){return q._34(0,[(n()(),q._17(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),q._33(null,["Welcome to ","!"])),(n()(),q._33(null,["\n\n"])),(n()(),q._17(0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),q._33(null,["\n  "])),(n()(),q._17(0,null,null,1,"tree-container",[],null,null,null,c,E)),q._15(114688,null,0,C,[P,B.k],null,null),(n()(),q._33(null,["\n"])),(n()(),q._33(null,["\n\n\n"]))],function(n,l){n(l,6,0)},function(n,l){n(l,1,0,l.component.title)})}function _(n){return q._34(0,[(n()(),q._17(0,null,null,1,"app-root",[],null,null,null,d,U)),q._15(49152,null,0,f,[],null,null)],null,null)}Object.defineProperty(l,"__esModule",{value:!0});var h={production:!0},p=function(){function n(){}return n}(),f=function(){function n(){this.title="Tree Manager - @Bata"}return n}(),v=[".tree[_ngcontent-%COMP%]{margin:0;padding:0;list-style-type:none}.tree[_ngcontent-%COMP%], .tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.tree[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#eee}.tree[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-size:.8rem;color:grey;padding-right:1rem;margin-right:1rem;border-right:1px solid #ddd}"],g=e("/oeL"),m=function(){function n(){this.deleteNode=new g.p}return n.prototype.delete=function(n,l){this.deleteNode.emit({id:n,pid:l})},n}(),b=e("/oeL"),y=e("qbdv"),N=[".tree[_ngcontent-%COMP%] {\n      width: 100%;display: -webkit-box;display: -moz-box;display: box;-moz-box-orient: horizontal;box-orient: horizontal;-webkit-box-orient: horizontal;\n  \t}\n\n  \t.tree-col[_ngcontent-%COMP%] {\n        width: auto;border: solid 1px black;text-align: center;-webkit-box-flex: 1;-moz-box-flex: 1;box-flex: 1;\n  \t}\n\n    sup[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }"],k=b._14({encapsulation:0,styles:N,data:{}}),x=(b._12("tree",m,i,{actualTraverse:"actualTraverse",depth:"depth"},{deleteNode:"deleteNode"},[]),e("CPp0")),M=e("82j9"),P=(e.n(M),function(){function n(n){this.http=n,this.apiUrl="api/nodes",this.headers=new x.d({"Content-Type":"application/json"})}return n.prototype.update=function(n){return this.http.put(this.apiUrl+"/"+n.id,JSON.stringify(n),{headers:this.headers}).toPromise().then(function(){return n}).catch(this.handleError)},n.prototype.create=function(n,l){return this.http.post(this.apiUrl,JSON.stringify({parent:n,data:l,children:[]}),{headers:this.headers}).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.delete=function(n){return this.http.delete(this.apiUrl+"/"+n.id,{headers:this.headers}).toPromise().then(function(){return null}).catch(this.handleError)},n.prototype.getNodes=function(){return this.http.get(this.apiUrl).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.getNode=function(n){return this.http.get(this.apiUrl+"/"+n).toPromise().then(function(n){return n.json().data}).catch(this.handleError)},n.prototype.handleError=function(n){return Promise.reject(n.message||n)},n.ctorParameters=function(){return[{type:x.e}]},n}()),T=e("BkNc"),w=e("kq+6"),C=(e.n(w),function(){function n(n,l){this.treeService=n,this.router=l,this.actualTraverse=[],this.traversalMode=this.traverseDFS,this.traversalModeName="DFS"}return n.prototype.traverseDFS=function(n){void 0===n&&(n=null);!function l(e,t){for(var u=0,r=e.children.length;u<r;u++)l(e.children[u],t+1);!n||n(e,t)}(this.tree.root,0)},n.prototype.traverseBFS=function(n){void 0===n&&(n=null);var l=new w.Queue;l.enqueue([this.tree.root,0]);for(var e=l.dequeue();e;){for(var t=0,u=e[0].children.length;t<u;t++)l.enqueue([e[0].children[t],e[1]+1]);!n||n(e[0],e[1]),e=l.dequeue()}},n.prototype.add=function(n,l){var e=this,t=null,u=function(l){l.id==n&&(t=l)};this.contains(u,this.traversalMode),t?this.treeService.create(n,l).then(function(n){e.actualTraverse=[[]],t.children.push(n),n.parent=t.id,e.contains(function(n,l){e.actualTraverse[l]||(e.actualTraverse[l]=[]),e.actualTraverse[l].push(n)},e.traversalMode)}):alert("There is no parent node with specified id")},n.prototype.contains=function(n,l){l.call(this,n)},n.prototype.deleteNode=function(n){var l,e,t=this,u=n.id,r=n.pid,o=null,i=function(n){n.id==r&&(o=n)};this.contains(i,this.traversalMode),o?(l=this.getIndex(u,o.children),void 0===l?alert("Node to remove does not exist."):(e=o.children.splice(l,1)[0],this.treeService.delete(e).then(function(){t.actualTraverse=[[]],e.children.forEach(function(n){n.parent=r,o.children.push(n)},t),t.contains(function(n,l){t.actualTraverse[l]||(t.actualTraverse[l]=[]),t.actualTraverse[l].push(n)},t.traversalMode),t.nodes=t.nodes.filter(function(n){return n!==e}),t.selectedNode===e&&(t.selectedNode=null)}))):alert("Parent does not exist.")},n.prototype.switchTraversalMode=function(){var n=this;this.actualTraverse=[[]],this.traversalModeName="DFS"===this.traversalModeName?"BFS":"DFS",this.traversalMode="DFS"===this.traversalModeName?this.traverseBFS:this.traverseDFS,this.contains(function(l,e){n.actualTraverse[e]||(n.actualTraverse[e]=[]),n.actualTraverse[e].push(l)},this.traversalMode)},n.prototype.saveNode=function(n){!0===n&&(this.selectedNode=null)},n.prototype.onSelect=function(n){this.selectedNode=n},n.prototype.getNodes=function(){var n=this;this.treeService.getNodes().then(function(l){n.nodes=l,n.tree.root=n.selectedNode=n.nodes[0]})},n.prototype.ngOnInit=function(){this.tree={root:null},this.getNodes()},n.prototype.getIndex=function(n,l){for(var e=0;e<l.length;e++)if(l[e].id==n)return e},n.ctorParameters=function(){return[{type:P},{type:T.k}]},n}()),O=e("/oeL"),S=e("bm2B"),F=e("qbdv"),j=e("BkNc"),D=[v],E=O._14({encapsulation:0,styles:D,data:{}}),I=O._12("tree-container",C,s,{},{},[]),q=e("/oeL"),B=e("BkNc"),z=[],U=q._14({encapsulation:2,styles:z,data:{}}),L=q._12("app-root",f,_,{},{},[]),$=function(){function n(){}return n.prototype.createDb=function(){return{nodes:[{id:1,parent:null,data:"Root",children:[]}]}},n}(),W=e("/oeL"),A=e("qbdv"),R=e("fc+i"),Z=e("bm2B"),G=e("R6nX"),J=e("CPp0"),X=e("jN6E"),Q=e("BkNc"),V=W._13(p,[f],function(n){return W._28([W._29(512,W.k,W._9,[[8,[I,L]],[3,W.k],W.E]),W._29(5120,W.A,W._27,[[3,W.A]]),W._29(4608,A.k,A.j,[W.A]),W._29(5120,W.c,W._18,[]),W._29(5120,W.y,W._24,[]),W._29(5120,W.z,W._25,[]),W._29(4608,R.b,R.s,[A.c]),W._29(6144,W.Q,null,[R.b]),W._29(4608,R.e,R.f,[]),W._29(5120,R.c,function(n,l,e,t){return[new R.k(n),new R.o(l),new R.n(e,t)]},[A.c,A.c,A.c,R.e]),W._29(4608,R.d,R.d,[R.c,W.G]),W._29(135680,R.m,R.m,[A.c]),W._29(4608,R.l,R.l,[R.d,R.m]),W._29(6144,W.O,null,[R.l]),W._29(6144,R.p,null,[R.m]),W._29(4608,W.X,W.X,[W.G]),W._29(4608,R.g,R.g,[A.c]),W._29(4608,R.i,R.i,[A.c]),W._29(4608,Z.g,Z.g,[]),W._29(4608,G.c,$,[]),W._29(5120,J.m,X.b,[W.w,G.c,G.a]),W._29(4608,J.i,J.a,[]),W._29(5120,J.e,J.p,[J.m,J.i]),W._29(4608,J.c,J.c,[]),W._29(4608,J.k,J.b,[]),W._29(5120,J.n,J.o,[]),W._29(5120,Q.a,Q.u,[Q.k]),W._29(4608,Q.d,Q.d,[]),W._29(6144,Q.f,null,[Q.d]),W._29(135680,Q.m,Q.m,[Q.k,W.D,W.j,W.w,Q.f]),W._29(4608,Q.e,Q.e,[]),W._29(5120,Q.h,Q.x,[Q.v]),W._29(5120,W.b,function(n){return[n]},[Q.h]),W._29(4608,P,P,[J.e]),W._29(512,A.b,A.b,[]),W._29(1024,W.o,R.q,[]),W._29(1024,W.F,function(){return[Q.q()]},[]),W._29(512,Q.v,Q.v,[W.w]),W._29(1024,W.d,function(n,l,e){return[R.r(n,l),Q.w(e)]},[[2,R.h],[2,W.F],Q.v]),W._29(512,W.e,W.e,[[2,W.d]]),W._29(131584,W._16,W._16,[W.G,W._10,W.w,W.o,W.k,W.e]),W._29(2048,W.g,null,[W._16]),W._29(512,W.f,W.f,[W.g]),W._29(512,R.a,R.a,[[3,R.a]]),W._29(512,Z.e,Z.e,[]),W._29(512,Z.b,Z.b,[]),W._29(512,J.f,J.f,[]),W._29(1024,Q.p,Q.s,[[3,Q.k]]),W._29(512,Q.o,Q.c,[]),W._29(512,Q.b,Q.b,[]),W._29(256,Q.g,{},[]),W._29(1024,A.g,Q.r,[A.m,[2,A.a],Q.g]),W._29(512,A.f,A.f,[A.g]),W._29(512,W.j,W.j,[]),W._29(512,W.D,W.U,[W.j,[2,W.V]]),W._29(1024,Q.i,function(){return[[{path:"tree",component:C}]]},[]),W._29(1024,Q.k,Q.t,[W.g,Q.o,Q.b,A.f,W.w,W.D,W.j,Q.i,Q.g,[2,Q.n],[2,Q.j]]),W._29(512,Q.l,Q.l,[[2,Q.p],[2,Q.k]]),W._29(512,X.a,X.a,[]),W._29(512,p,p,[]),W._29(256,G.a,void 0,[])])}),Y=e("/oeL"),H=e("fc+i");h.production&&Object(Y._3)(),Object(H.j)().bootstrapModuleFactory(V)},gFIY:function(n,l){function e(n){return new Promise(function(l,e){e(new Error("Cannot find module '"+n+"'."))})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="gFIY"}},[0]);